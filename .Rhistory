ggplot(sub_dat, aes(x=week, y=no_posts, group=post_type)) +
geom_bar(stat="identity") +
labs(ylab='number of posts') +
theme_classic()
ggplot(sub_dat, aes(x=week, y=no_posts, group=post_type)) +
geom_bar(stat="identity") +
labs(y='number of posts') +
theme_classic()
date_dat <- dat %>% group_by(week = week(post_time_datetime)) %>% summarise(tot_posts = sum(post_unique), og_posts = sum(post_original==1), re_posts = sum(post_original==0))
date_dat <- pivot_longer(date_dat, cols=c(tot_posts, og_posts, re_posts), values_to="no_posts")
colnames(date_dat)[2] <- "post_type"
ggplot(date_dat, aes(x=week, y=no_posts, group=post_type)) +
geom_bar(stat="identity") +
labs(y='number of posts') +
theme_classic()
date_dat <- dat %>% group_by(week = week(post_time_datetime)) %>% summarise(tot_posts = sum(post_unique), og_posts = sum(post_original==1), re_posts = sum(post_original==0))
rm(sub_dat)
rm(sub_dat_day)
View(date_dat)
date_dat$week <- c(1:25)
ggplot(date_dat, aes(x=week, y=no_posts, group=post_type)) +
geom_bar(stat="identity") +
labs(x='week online', y='number of posts') +
theme_classic()
date_dat <- dat %>% group_by(week = week(post_time_datetime)) %>% summarise(tot_posts = sum(post_unique), og_posts = sum(post_original==1), re_posts = sum(post_original==0))
date_dat$week <- c(1:25)
date_dat <- pivot_longer(date_dat, cols=c(tot_posts, og_posts, re_posts), values_to="no_posts")
colnames(date_dat)[2] <- "post_type"
ggplot(date_dat, aes(x=week, y=no_posts, group=post_type)) +
geom_bar(stat="identity") +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, group=post_type, col=post_type)) +
geom_bar(stat="identity") +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity") +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity", position="dodge") +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity", position="dodge") +
scale_fill_manual("legend", values = c("tot_posts" = "black", "og_posts" = "darkgrey", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity") +
scale_fill_manual("legend", values = c("tot_posts" = "black", "og_posts" = "darkgrey", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
date_dat <- dat %>% group_by(week = week(post_time_datetime)) %>% summarise(og_posts = sum(post_original==1), re_posts = sum(post_original==0))
date_dat$week <- c(1:25)
date_dat <- pivot_longer(date_dat, cols=c(og_posts, re_posts), values_to="no_posts")
colnames(date_dat)[2] <- "post_type"
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity") +
scale_fill_manual("legend", values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
date_dat$post_type <- factor(dat$post_type, levels=c('og_posts', 're_posts'))
date_dat$post_type <- factor(date_dat$post_type, levels=c('og_posts', 're_posts'))
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity") +
scale_fill_manual("legend", values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=post_type)) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual("legend", values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('og_posts', 're_posts')))) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual("legend", values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual("legend", values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
labs(x='week online', y='number of posts') +
theme_classic()
date_dat <- dat %>% group_by(week = week(post_time_datetime)) %>% summarise(og_posts = sum(post_original==1), re_posts = sum(post_original==0), users = length(unique(member_id)))
View(date_dat)
date_dat$week <- c(1:25)
date_dat <- pivot_longer(date_dat, cols=c(og_posts, re_posts), values_to="no_posts")
colnames(date_dat)[3] <- "post_type"
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity", position="stack") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=users)) +
geom_bar(stat="identity") +
labs(x='week online', y='number of users') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes=users) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "black", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
scale_colour_manual(values='black', name=NULL, labels='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
scale_colour_manual(values='black', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
scale_linetype_discrete(values='solid', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
colour_manual
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
scale_colour_manual(values='black', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, colour=users)) +
scale_colour_manual(values='black', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, colour=users)) +
scale_colour_discrete(values='black', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, colour=users)) +
scale_colour_discrete(values=c('users'='black'), name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, colour=users)) +
scale_colour_discrete(values=c('black'), name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, colour=users)) +
scale_colour_manual(values=c('black'), name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
scale_colour_manual(values=c('black'), name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users), linetype="solid") +
scale_linetype_manual(values='solid', name=NULL, label='users') +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users), linetype="users") +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users), linetype=users) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, linetype=users)) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, linetype=users)) +
scale_linetype_manual(values=c('users'="black")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, linetype=users)) +
scale_linetype_discrete(values=c('users'="black")) +
labs(x='week online', y='number of posts') +
theme_classic()
?scale_linetype_discrete
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users, linetype=users)) +
scale_linetype_discrete(values=c('users'="solid")) +
labs(x='week online', y='number of posts') +
theme_classic()
ggplot(date_dat, aes(x=week, y=no_posts, fill=factor(post_type, levels=c('re_posts', 'og_posts')))) +
geom_bar(stat="identity") +
scale_fill_manual(values = c("og_posts" = "darkgrey", "re_posts" = "lightgrey"), name=NULL, labels=c('original posts', 'replies')) +
geom_line(aes(y=users)) +
labs(x='week online', y='number of posts') +
theme_classic()
library(rio)
library(tidyverse)
dat <- import("C:/Users/Rebecca/Folders/MSB/Projekte/Special issue/dataE_2112.sav")
plotd <- dat %>% select(CASE, gender, sexdrive2, CSBD, PPCS_6, meffort, socialanx, lon, mvalue, attr) %>% pivot_longer(cols=sexdrive2:attr, names_to="var", values_to="score")
source("./flat_violin.R")
plotd %>% select(var=c("sexdrive2", CSBD))
?filter
plotd %>% filter(var==('sexdrive2' | 'CSBD'))
library(rio)
library(tidyverse)
dat <- import("C:/Users/Rebecca/Folders/MSB/Projekte/Special issue/dataE_2112.sav")
plotd <- dat %>% select(CASE, gender, sexdrive2, CSBD, PPCS_6, meffort, socialanx, lon, mvalue, attr) %>% pivot_longer(cols=sexdrive2:attr, names_to="var", values_to="score")
source("./flat_violin.R")
ggplot(plotd, aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "count", trim=F, width=5) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.01, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
?geom_violin
ggplot(plotd, aes(x = var, y = score, fill = var)) +
geom_flat_violin(trim=F, width=5) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.01, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
ggplot(plotd, aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "width", trim=F, width=5) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.01, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
ggplot(plotd, aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "width", trim=F) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.01, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
plotd %>% select(-attr)
ggplot(plotd %>% filter(var!="attr"), aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "width", trim=F) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.05, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
ggplot(plotd %>% filter(var!="attr"), aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "width", trim=F) +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.04, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
ggplot(plotd %>% filter(var!="attr"), aes(x = var, y = score, fill = var)) +
geom_flat_violin(scale = "width") +
#scale_fill_viridis(discrete = TRUE) +
#stat_summary(fun.data = mean_sdl, fun.args = list(mult = 1), geom = "pointrange", position = position_nudge(4.9)) +
geom_dotplot(binaxis = "y", dotsize = 0.04, stackdir = "down", binwidth = 0.3, position = position_nudge(-0.025)) +
#theme_ipsum() +
theme(
legend.position = "none"
) +
ylab("value")
ggplot(plotd %>% filter(var!="attr"), aes(x=var, y=score, fill=var)) +
geom_flat_violin(scale="width") +
geom_dotplot(binaxis="y", dotsize=.04, stackdir="down", binwidth=.3, position=position_nudge(-.025)) +
theme(legend.position="none") +
labs(x="", y="value") +
ggplot(plotd, aes(x = var, y = score, fill = var)) +
geom_violin(scale = "count")
ggplot(plotd %>% filter(var!="attr"), aes(x=var, y=score, fill=var)) +
geom_flat_violin(scale="width") +
geom_dotplot(binaxis="y", dotsize=.04, stackdir="down", binwidth=.3, position=position_nudge(-.025)) +
theme(legend.position="none") +
labs(x="", y="value")
#plot
ggplot(plotd %>% filter(var!="attr"), aes(x=var, y=score, fill=var)) +
geom_flat_violin(scale="width") +
geom_dotplot(binaxis="y", dotsize=.04, stackdir="down", binwidth=.3, position=position_nudge(-.025)) +
theme(legend.position="none") +
labs(x="", y="value") +
theme_classic()
#plot
ggplot(plotd %>% filter(var!="attr"), aes(x=var, y=score, fill=var)) +
geom_flat_violin(scale="width") +
geom_dotplot(binaxis="y", dotsize=.04, stackdir="down", binwidth=.3, position=position_nudge(-.025)) +
theme_classic() +
theme(legend.position="none") +
labs(x="", y="value")
ggplot(plotd %>% filter(var=="attr"), aes(x=var, y=score)) +
geom_flat_violin(scale="width") +
geom_dotplot(binaxis="y", dotsize=.04, stackdir="down", binwidth=.3, position=position_nudge(-.025)) +
theme_classic() +
theme(legend.position="none") +
labs(x="", y="value")
ggplot(plotd %>% filter(var=="attr"), aes(x=var, y=score)) +
geom_bar()
ggplot(plotd %>% filter(var=="attr"), aes(y=score)) +
geom_bar()
ggplot(plotd %>% filter(var=="attr"), aes(x=score)) +
geom_bar()
ggplot(plotd %>% filter(var=="attr"), aes(x=score)) +
geom_bar() +
theme_classic() +
labs(x="attraction to children", y="count")
x <- rlnorm(1e4, meanlog = -0.5, sdlog = 0.5)
### Class Proportions Females
```{r class_proportion_f, echo=F}
#######ATTENTION:
#At this point I load a pre-saved .RData file in which the environment is saved. That makes the code less reproducible, but removing the eval=FALSE specifications in all code blocks will make that possible.
load(".RData")
desc_m
desc_f
desc_m
desc_m$unique
desc_m$unique-1
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), Male=desc_m$unique-1, Female=desc_f$unique-1, Male=desc_m$mode, Female=desc_f$mode, Male=desc_m$mode_value, Female=desc_f$mode_value, Male=desc_m$V, Female=desc_f$V)
desc <- data.frame(Male=desc_m$unique-1, Female=desc_f$unique-1, Male=desc_m$mode, Female=desc_f$mode, Male=desc_m$mode_value, Female=desc_f$mode_value, Male=desc_m$V, Female=desc_f$V)
desc <- data.frame("Male"=desc_m$unique-1, "Female"=desc_f$unique-1, "Male"=desc_m$mode, "Female"=desc_f$mode, "Male"=desc_m$mode_value, "Female"=desc_f$mode_value, "Male"=desc_m$V, "Female"=desc_f$V)
desc_m$unique-1
desc_f$unique-1,
desc_f$unique-1
?data.frame
desc <- data.frame("Male"=desc_m$unique-1, "Female"=desc_f$unique-1)
View(desc)
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), "Male"=desc_m$unique-1, "Female"=desc_f$unique-1)
desc_m$mode
desc_f$mode
desc_m$mode_value
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), "Male"=desc_m$unique-1, "Female"=desc_f$unique-1, "Male"=desc_m$mode, "Female"=desc_f$mode, "Male"=desc_m$mode_value, "Female"=desc_f$mode_value, "Male"=desc_m$V, "Female"=desc_f$V)
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), "Male"=desc_m$unique-1, "Female"=desc_f$unique-1, "Male"=desc_m$mode)
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), "Male"=desc_m$unique-1, "Female"=desc_f$unique-1, "Male"=desc_m$mode, "Female"=desc_f$mode, "Male"=desc_m$mode_value)
desc <- data.frame(Variable=c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), "Male"=desc_m$unique-1, "Female"=desc_f$unique-1, "Male"=desc_m$mode, "Female"=desc_f$mode, "Male"=desc_m$mode_value, "Female"=desc_f$mode_value, "Male"=desc_m$v, "Female"=desc_f$v)
View(desc)
desc_f
?full_join
desc <- full_join(desc_m, desc_f, by=0)
library(tidyverse)
desc <- full_join(desc_m, desc_f, by=0)
desc <- merge(desc_m, desc_f, by=0)
desc
desc <- full_join(desc_m, desc_f, by=name)
desc <- merge(desc_m, desc_f, by=name)
desc <- merge(desc_m, desc_f, by="name")
desc
desc <- desc[, sort(names(desc))]
desc
desc <- desc[, sort(names(desc[, 2:15]))]
desc <- merge(desc_m, desc_f, by="name")
desc <- desc[, sort(names(desc[, 2:15]))]
desc
desc <- desc[, 2:15] %>% sort(names(desc))
desc <- merge(desc_m, desc_f, by="name")
desc <- desc[, 2:15] %>% sort(names(desc))
desc <- desc[, sort(names(desc)[2:15])]
desc <- merge(desc_m, desc_f, by="name")
desc <- desc[, sort(names(desc)[2:15])]
desc
desc <- desc[, sort(names(desc))[2:15]]
desc <- merge(desc_m, desc_f, by="name")
desc <- desc[, sort(names(desc))[2:15]]
desc
desc <- merge(desc_m, desc_f, by="name")
desc <- desc[, sort(names(desc))][2:15]
desc
desc <- merge(desc_m, desc_f, by="name")
desc <- cbind(c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children"), desc[, sort(names(desc))])
desc
Variable <- c("Sex drive", "CSBD-7", "PPCS-6", "Mating effort", "Social anxiety", "LON", "Low embodied capital", "Sexual interest in children")
desc <- merge(desc_m, desc_f, by="name")
desc <- cbind(Variable, desc[, sort(names(desc))])
desc
desc <- merge(desc_m, desc_f, by="name")
desc
Variable <- c("Sexual interest in children", "CSBD-7", "LON", "Mating effort", "Low embodied capital", "PPCS-6", "Sex drive", "Social anxiety")
desc <- merge(desc_m, desc_f, by="name")
desc <- cbind(Variable, desc[, sort(names(desc))])
desc
library(lavaan)
setwd("C:/Users/Rebecca/Documents/GitHub/LPA_analysis")
library(tidyverse)
library(lavaan)
dat <- haven::read_spss(
"C:/Users/Rebecca/Documents/GitHub/LPA_analysis/data/data raw/dataE_clear5 2209.sav") %>% select(CASE, starts_with("Y")) %>%
select(CASE, ends_with("r"))
dat[, c("Y_proclSpeed_r", "Y_proclDui_r", "Y_proclRob_r", "Y_proclKill_r", "Y_proclProstitute_r",
"Y_proclRape_r", "Y_proclZoo_r", "Y_proclPublic_r", "Y_proclPornChild_r",
"Y_proclPornChildDarknet_r", "Y_proclChatChild_r", "Y_proclGiftChild_r", "Y_proclSexChild_r",
"Y_proclPornYp_r", "Y_proclChatYp_r", "Y_proclGiftYp_r", "Y_proclSexYp_r")] <-
lapply(dat[, c("Y_proclSpeed_r", "Y_proclDui_r", "Y_proclRob_r", "Y_proclKill_r", "Y_proclProstitute_r",
"Y_proclRape_r", "Y_proclZoo_r", "Y_proclPublic_r", "Y_proclPornChild_r",
"Y_proclPornChildDarknet_r", "Y_proclChatChild_r", "Y_proclGiftChild_r", "Y_proclSexChild_r",
"Y_proclPornYp_r", "Y_proclChatYp_r", "Y_proclGiftYp_r", "Y_proclSexYp_r")], ordered)
mod <- "
child =~ Y_proclPornChild_r  + Y_proclChatChild_r
+ Y_proclGiftChild_r + Y_proclPornChildDarknet_r
YP =~ Y_proclPornYp_r + Y_proclChatYp_r + Y_proclGiftYp_r + Y_proclSexYp_r
sex =~ child + YP + Y_proclRape_r + Y_proclZoo_r + Y_proclPublic_r + Y_proclProstitute_r+ Y_proclSexChild_r
child ~~ 0*YP
sex ~~ 1*sex
"
fit_mod <- sem(mod, dat, ordered=c("Y_proclSpeed_r", "Y_proclDui_r", "Y_proclRob_r", "Y_proclKill_r", "Y_proclProstitute_r",
"Y_proclRape_r", "Y_proclZoo_r", "Y_proclPublic_r", "Y_proclPornChild_r",
"Y_proclPornChildDarknet_r", "Y_proclChatChild_r", "Y_proclGiftChild_r", "Y_proclSexChild_r",
"Y_proclPornYp_r", "Y_proclChatYp_r", "Y_proclGiftYp_r", "Y_proclSexYp_r"))
summary(fit_mod, fit.measures=T, standardized=T)
mod <- "
child =~ Y_proclPornChild_r  + Y_proclChatChild_r
+ Y_proclGiftChild_r + Y_proclPornChildDarknet_r
YP =~ Y_proclPornYp_r + Y_proclChatYp_r + Y_proclGiftYp_r + Y_proclSexYp_r
sex =~ child + YP + Y_proclRape_r + Y_proclZoo_r + Y_proclPublic_r + Y_proclProstitute_r+ Y_proclSexChild_r
child ~~ 0*YP
sex ~~ 1*sex
child ~~0.001*child
"
fit_mod <- sem(mod, dat, ordered=c("Y_proclSpeed_r", "Y_proclDui_r", "Y_proclRob_r", "Y_proclKill_r", "Y_proclProstitute_r",
"Y_proclRape_r", "Y_proclZoo_r", "Y_proclPublic_r", "Y_proclPornChild_r",
"Y_proclPornChildDarknet_r", "Y_proclChatChild_r", "Y_proclGiftChild_r", "Y_proclSexChild_r",
"Y_proclPornYp_r", "Y_proclChatYp_r", "Y_proclGiftYp_r", "Y_proclSexYp_r"))
summary(fit_mod, fit.measures=T, standardized=T)
mod <- "
child =~ Y_proclPornChild_r  + Y_proclChatChild_r
+ Y_proclGiftChild_r
YP =~ Y_proclPornYp_r + Y_proclChatYp_r + Y_proclGiftYp_r + Y_proclSexYp_r
sex =~ child + YP + Y_proclRape_r + Y_proclZoo_r + Y_proclPublic_r + Y_proclProstitute_r+ Y_proclSexChild_r
child ~~ 0*YP
sex ~~ 1*sex
child ~~0.001*child
"
fit_mod <- sem(mod, dat, ordered=c("Y_proclSpeed_r", "Y_proclDui_r", "Y_proclRob_r", "Y_proclKill_r", "Y_proclProstitute_r",
"Y_proclRape_r", "Y_proclZoo_r", "Y_proclPublic_r", "Y_proclPornChild_r",
"Y_proclPornChildDarknet_r", "Y_proclChatChild_r", "Y_proclGiftChild_r", "Y_proclSexChild_r",
"Y_proclPornYp_r", "Y_proclChatYp_r", "Y_proclGiftYp_r", "Y_proclSexYp_r"))
summary(fit_mod, fit.measures=T, standardized=T)
